.IFNDEF __MAIN_MENU_DATA_ASM__
.DEFINE __MAIN_MENU_DATA_ASM__

.SECTION "Mode - Main Menu Data" FREE
Mode_MainMenu_Data:

; Palette entries
; Font
.DEFINE MAIN_MENU_DATA_FONT_PAL_BG  0   EXPORT
.DEFINE MAIN_MENU_DATA_FONT_PAL_FG  1   EXPORT

; Buttons
.DEFINE MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_BLACK          0 EXPORT
.DEFINE MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_DISABLED 4 EXPORT
.DEFINE MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_NORMAL   5 EXPORT
.DEFINE MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_SELECTED 6 EXPORT

; Buttons (disabled uses BG pal, active uses Sprite pal)
.DEFINE MAIN_MENU_DATA_BUTTON_PAL_BG 2  EXPORT
.DEFINE MAIN_MENU_DATA_BUTTON_PAL_FG 3  EXPORT

; Default border entry
.DEFINE MAIN_MENU_BORDER_PAL_ENTRY              VDP_PALETTE_SPRITE_PALETTE_INDEX + 0    EXPORT

; Profiler entries (these use the sprite palette)
.DEFINE MAIN_MENU_PROFILER_PAL_ENTRY_VBLANK         VDP_PALETTE_SPRITE_PALETTE_INDEX + 15   EXPORT
.DEFINE MAIN_MENU_PROFILER_PAL_ENTRY_UPDATE         VDP_PALETTE_SPRITE_PALETTE_INDEX + 14   EXPORT
.DEFINE MAIN_MENU_PROFILER_PAL_ENTRY_RENDER_PREP    VDP_PALETTE_SPRITE_PALETTE_INDEX + 13   EXPORT

@Palette:
; Font entries
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_FONT_PAL_BG, $00
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_FONT_PAL_FG, (3 << VDP_PALETTE_RED_SHIFT) | (3 << VDP_PALETTE_GREEN_SHIFT) | (3 << VDP_PALETTE_BLUE_SHIFT)
; Buttons
; BG == disabled
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_BUTTON_PAL_BG, $00
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_BUTTON_PAL_FG, (1 << VDP_PALETTE_RED_SHIFT) | (1 << VDP_PALETTE_GREEN_SHIFT) | (1 << VDP_PALETTE_BLUE_SHIFT)
; Sprite == active
.db VDP_PALETTE_SPRITE_PALETTE_INDEX + MAIN_MENU_DATA_BUTTON_PAL_BG, $00
.db VDP_PALETTE_SPRITE_PALETTE_INDEX + MAIN_MENU_DATA_BUTTON_PAL_FG, (3 << VDP_PALETTE_RED_SHIFT) | (3 << VDP_PALETTE_GREEN_SHIFT) | (3 << VDP_PALETTE_BLUE_SHIFT)
; UI entries
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_DISABLED,   (1 << VDP_PALETTE_RED_SHIFT) | (1 << VDP_PALETTE_GREEN_SHIFT) | (1 << VDP_PALETTE_BLUE_SHIFT)
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_NORMAL,     (2 << VDP_PALETTE_RED_SHIFT) | (2 << VDP_PALETTE_GREEN_SHIFT) | (2 << VDP_PALETTE_BLUE_SHIFT)
.db VDP_PALETTE_BG_PALETTE_INDEX + MAIN_MENU_DATA_UI_PAL_ENTRY_BUTTON_STATE_SELECTED,   (3 << VDP_PALETTE_RED_SHIFT) | (3 << VDP_PALETTE_GREEN_SHIFT) | (3 << VDP_PALETTE_BLUE_SHIFT)

; Profiler colors
.db MAIN_MENU_PROFILER_PAL_ENTRY_VBLANK, (2 << VDP_PALETTE_RED_SHIFT) | (2 << VDP_PALETTE_GREEN_SHIFT) | (3 << VDP_PALETTE_BLUE_SHIFT)
.db MAIN_MENU_PROFILER_PAL_ENTRY_UPDATE, (0 << VDP_PALETTE_RED_SHIFT) | (3 << VDP_PALETTE_GREEN_SHIFT) | (3 << VDP_PALETTE_BLUE_SHIFT)
.db MAIN_MENU_PROFILER_PAL_ENTRY_RENDER_PREP, (3 << VDP_PALETTE_RED_SHIFT) | (0 << VDP_PALETTE_GREEN_SHIFT) | (0 << VDP_PALETTE_BLUE_SHIFT)

@@End:

; VRAM Pattern Locs
; Font
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_FONT              $0020   EXPORT
; UI
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_PROFILE    $0080   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_VISUALIZER $0084   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_LOAD_SONG  $0088   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_PLAY       $008C   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_PAUSE      $008C   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_FADE       $0090   EXPORT
.DEFINE MAIN_MENU_DEST_VRAM_PATTERN_INDEX_BUTTON_TRANSPOSE  $0094   EXPORT

@Strings:
@@Title:
    .DB "TriloTracker SMS Player"
@@@End:

@@Instructions1:
    .DB "D-Pad: Choose Options"
@@@End:
@@Instructions2:
    .DB "Btn 1: Cancel  Btn 2: Select"
@@@End:

; The main menu waits for the player to release all buttons before accepting input.
.DSTRUCT @DebounceParams INSTANCEOF sDebounceModule_Parameters VALUES
    DesiredVal  .DB CONTROLLER_JOYPAD_UP_RELEASED | CONTROLLER_JOYPAD_DOWN_RELEASED | CONTROLLER_JOYPAD_LEFT_RELEASED | CONTROLLER_JOYPAD_RIGHT_RELEASED | CONTROLLER_JOYPAD_BUTTON1_RELEASED | CONTROLLER_JOYPAD_BUTTON2_RELEASED
    Mask        .DB CONTROLLER_JOYPAD_UP_RELEASED | CONTROLLER_JOYPAD_DOWN_RELEASED | CONTROLLER_JOYPAD_LEFT_RELEASED | CONTROLLER_JOYPAD_RIGHT_RELEASED | CONTROLLER_JOYPAD_BUTTON1_RELEASED | CONTROLLER_JOYPAD_BUTTON2_RELEASED
.ENDST

.ENDS

.ENDIF  ;__MAIN_MENU_DATA_ASM__